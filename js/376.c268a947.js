"use strict";(self["webpackChunkastracoin"]=self["webpackChunkastracoin"]||[]).push([[376],{7376:function(s,t,a){a.r(t),a.d(t,{default:function(){return u}});var e=function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{attrs:{id:"user-app"}},[e("div",{staticClass:"user-page"},[e("router-link",{staticClass:"close-page",attrs:{to:"/"}},[e("i",{staticClass:"ai ai-arrow-back"}),e("div",{staticClass:"close-title"},[s._v("Back")])]),e("div",{staticClass:"user-photo"},[e("div",{staticClass:"user-pic-block"},[e("img",{ref:"image",staticClass:"user-pic",attrs:{src:s.user.photo?this.$store.state.url+s.user.photo:a(6391),alt:""}})]),e("input",{ref:"fileInput",staticStyle:{display:"none"},attrs:{type:"file",accept:".jpg, .png, .jpeg, |image/*"},on:{change:s.onFileChange}}),e("div",{staticClass:"edit-user-pic",on:{click:function(t){return s.$refs.fileInput.click()}}},[e("i",{staticClass:"ai ai-camera-outline"})])]),8===s.user.id||1===s.user.id||2===s.user.id||6===s.user.id?e("div",{staticClass:"user-fullname"},[s._v(" "+s._s(s.user.name)+". "+s._s(s.user.last_name)+" "),e("svg",{attrs:{width:"28",height:"28",fill:"none",viewBox:"0 0 28 28",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M11.517 3.389c.776-.704 1.164-1.056 1.59-1.222a2.467 2.467 0 0 1 1.786 0c.427.166.814.518 1.59 1.222.366.331.549.497.753.62.275.167.58.278.898.327.236.037.482.028.976.008 1.046-.04 1.57-.06 2.003.087a2.467 2.467 0 0 1 1.368 1.148c.22.4.291.92.433 1.958.067.489.1.733.177.96.104.304.266.585.478.827.157.18.352.33.742.633.828.642 1.242.963 1.48 1.354.319.527.43 1.154.31 1.759-.09.448-.369.892-.927 1.778-.263.417-.395.626-.481.849-.116.3-.173.62-.166.94.005.24.057.48.161.963.222 1.024.333 1.536.263 1.988a2.468 2.468 0 0 1-.893 1.547c-.356.286-.855.446-1.853.766-.47.15-.705.226-.914.341-.282.155-.53.364-.732.614-.15.186-.265.405-.495.841-.488.927-.732 1.39-1.076 1.692A2.468 2.468 0 0 1 17.31 26c-.458-.01-.942-.208-1.912-.604-.457-.187-.686-.28-.92-.326a2.47 2.47 0 0 0-.955 0c-.235.046-.463.14-.92.326-.97.396-1.455.594-1.912.604a2.468 2.468 0 0 1-1.678-.61c-.344-.302-.589-.766-1.077-1.692-.23-.437-.345-.655-.495-.841a2.468 2.468 0 0 0-.732-.615c-.209-.115-.444-.19-.914-.34-.997-.32-1.496-.48-1.853-.767a2.468 2.468 0 0 1-.893-1.547c-.07-.452.041-.964.263-1.988.105-.482.157-.723.162-.962a2.467 2.467 0 0 0-.166-.941c-.087-.223-.218-.431-.481-.85-.559-.885-.838-1.329-.927-1.777a2.468 2.468 0 0 1 .31-1.759c.237-.391.651-.712 1.48-1.354.39-.302.584-.454.741-.633.212-.242.374-.523.478-.828.077-.226.11-.47.178-.96.141-1.037.212-1.556.433-1.957.296-.54.784-.95 1.368-1.148.433-.147.956-.127 2.003-.087.493.02.74.03.976-.008.317-.049.622-.16.897-.326.205-.124.388-.29.753-.621z",fill:"#5733d1"}}),e("path",{attrs:{d:"M9.476 14.707l2.879 2.879 5.758-5.758",id:"verified_svg__verified_tick",stroke:"#fff","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}})])]):e("div",{staticClass:"user-fullname"},[s._v(s._s(s.user.name)+" "+s._s(s.user.last_name))]),e("div",{staticClass:"user-email"},[s._v(s._s(s.user.email))]),e("div",{staticClass:"user-tools"},[e("ul",{staticClass:"tools-items"},[e("router-link",{attrs:{tag:"li",to:"/ranks"}},[e("i",{staticClass:"ai ai-trending-up"}),s._v("Student Ranking")])],1),e("ul",{staticClass:"tools-items"},[e("li",[e("i",{staticClass:"ai ai-person-outline"}),s._v(s._s(s.user.qwasar))]),e("li",[e("i",{staticClass:"ai ai-school-outline"}),s._v(s._s(s.user.stack))]),e("li",[e("i",{staticClass:"ai ai-wallet-outline"}),s._v(s._s(s.user.wallet))])]),e("ul",{staticClass:"tools-items"},[e("router-link",{attrs:{tag:"li",to:"/update-password"}},[e("i",{staticClass:"ai ai-key-outline"}),s._v("Change password")])],1),e("ul",{staticClass:"tools-items"},[e("li",{staticClass:"btn-log-out",on:{click:s.logout}},[e("i",{staticClass:"ai ai-log-out-outline"}),s._v("Log Out")])])])],1),s.croppedImage?e("img",{attrs:{src:s.croppedImage,alt:""}}):s._e(),e("div",{staticClass:"modals",attrs:{id:"modals"}},[e("div",{class:{active:s.openUpload},attrs:{id:"upload-avatar"}},[e("div",{staticClass:"modal-header"},[e("div",{staticClass:"modal-title"},[s._v("Upload")]),e("div",{staticClass:"modal-tools"},[e("div",{staticClass:"modal-close",on:{click:s.closeModals}},[e("i",{staticClass:"ai ai-close"})])])]),e("div",{staticClass:"modal-body"},[e("Cropper",{ref:"cropper",attrs:{src:s.image,"stencil-component":"circle-stencil"}})],1),e("div",{staticClass:"upload-tools"},[e("button",{on:{click:s.reset}},[s._v("Reset")]),e("button",{on:{click:s.uploadImage}},[s._v("Upload")])])])])])},i=[],l=a(1910),o={name:"UserPage",data:()=>({user:{},image:null,openUpload:!1,croppedImage:null}),components:{Cropper:l.fl},async mounted(){document.title="Astrocoin | Profile",this.$store.state.user||await this.$store.dispatch("getUser"),this.user=this.$store.state.user,window.addEventListener("keydown",(s=>{"Escape"==s.key&&this.$router.push("/")}))},methods:{closeModals(){this.openUpload=!1},async logout(){await this.$store.dispatch("logout"),this.$router.push("/login")},reset(){this.$refs.cropper.reset(),this.image=null,this.openUpload=!1},onFileChange(s){const t=s.target.files[0];this.image=URL.createObjectURL(t),this.openUpload=!0},async uploadImage(){const{canvas:s}=this.$refs.cropper.getResult();if(s){const t=new FormData;await s.toBlob((s=>{t.append("photo",s),this.$store.dispatch("setPhoto",t).then((s=>{this.$refs.image.src=this.$store.state.url+s.data.path}))}),"image/jpeg")}this.openUpload=!1,Toast.fire("Success","Photo uploaded","success")}}},r=o,c=a(3736),n=(0,c.Z)(r,e,i,!1,null,"0af7a66e",null),u=n.exports}}]);
//# sourceMappingURL=376.c268a947.js.map