"use strict";(self["webpackChunkastracoin"]=self["webpackChunkastracoin"]||[]).push([[439],{2439:function(t,e,r){r.r(e),r.d(e,{default:function(){return d}});var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login-page"},[a("div",{attrs:{id:"container"}},[t.active?a("div",{attrs:{id:"login-page"}},[a("div",{staticClass:"oauth-alert_animationLoader"},[a("img",{attrs:{src:t.$store.state.user.m_photo?t.$store.state.url+"/storage/"+t.$store.state.user.m_photo:r(6391),alt:""}})]),a("span",{staticClass:"oauth-alert_userFullName"},[t._v(t._s(t.$store.state.user.name)+" "+t._s(t.$store.state.user.last_name[0])+".")]),a("span",{staticClass:"oauth-alert_pageTitle"},[t._v("Please wait we will redirect you with your data")])]):a("div",{attrs:{id:"login-page"}},[t._m(0),a("div",{staticClass:"login-form"},[a("div",{staticClass:"login-desc"},[t._v("AstroCoin wallet, login to your account")]),a("form",{staticClass:"form-modal",attrs:{action:"#"},on:{submit:function(e){return e.preventDefault(),t.submit.apply(null,arguments)}}},[a("div",{staticClass:"form-control"},[a("label",{attrs:{for:"email"}},[t._v("E-mail:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{type:"email",name:"",id:"email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),a("div",{staticClass:"form-control"},[a("label",{attrs:{for:"password"}},[t._v("Password:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",name:"",id:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),a("router-link",{staticClass:"forgot-pass",attrs:{to:"/qwasar-check"}},[t._v("Registration")]),a("router-link",{staticClass:"forgot-pass",attrs:{to:"/recover"}},[t._v("Forgot Password?")]),t._m(1)],1)])])])])},s=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"login-header"},[r("div",{staticClass:"store-logo"})])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"form-control submit-btn"},[r("button",{attrs:{type:"submit"}},[t._v("Login")])])}],i=(r(2801),r(7004)),o=r(8501),n=r(8520),u={name:"Login",data:()=>({email:"",password:"",active:!!localStorage.getItem("token")}),mounted(){document.title="AstroCoin | Login",localStorage.getItem("token")&&("497fdd5c-3b8f-4b1a-9c1a-8c1a8c1a8c1a"===this.$route.query.app_id&&"20666ef4fc9e52c8a3fb3a57bab05afb7ca1744f4a939748d7436e8bf51fd6de"===this.$route.query.app_hash&&"https://store.astrocoin.uz/user/oauth"===this.$route.query.callback_uri?this.$store.dispatch("getUser").then((()=>{window.location.href=`${this.$route.query.callback_uri}?auth_token=${localStorage.getItem("token")}&base_data=${window.btoa(unescape(encodeURIComponent(JSON.stringify(this.$store.state.user))))}`})).catch((()=>{Toast.fire({icon:"error",title:"User not authorized"})})):this.$router.push("/"))},validations:{email:{required:i.Z,email:o.Z},password:{required:i.Z,minLength:(0,n.Z)(6)}},methods:{async submit(){if(this.$v.$invalid)return this.$v.$touch(),void(this.$v.email.$invalid?Toast.fire("Email field is required","","error"):this.$v.password.$invalid&&Toast.fire("Password field is required","","error"));try{await this.$store.dispatch("login",{email:this.email,password:this.password}),this.$router.push(this.$route.query.redirect||"/")}catch(t){if(this.$store.state.errors)for(const e in this.$store.state.errors)Toast.fire(this.$store.state.errors[e][0],"","error");else Toast.fire(this.$store.state.error,"","error")}}}},l=u,c=r(1001),f=(0,c.Z)(l,a,s,!1,null,null,null),d=f.exports},9343:function(t,e,r){r.d(e,{RP:function(){return c}});r(1703);const a=[];let s=null;function i(){null!==s&&a.push(s),s={}}function o(){const t=s,e=s=a.pop()||null;return e&&(Array.isArray(e.$sub)||(e.$sub=[]),e.$sub.push(t)),t}function n(t){if("object"!==typeof t||Array.isArray(t))throw new Error("params must be an object");s={...s,...t}}function u(t,e){return l((r=>function(...a){return r(t),e.apply(this,a)}))}function l(t){const e=t(n);return function(...t){i();try{return e.apply(this,t)}finally{o()}}}function c(t,e){return"object"===typeof t&&void 0!==e?u(t,e):l(t)}},2237:function(t,e,r){r.d(e,{Lx:function(){return s},Sz:function(){return n},Zh:function(){return i},iH:function(){return o}});var a=r(3718);const s=t=>{if(Array.isArray(t))return!!t.length;if(void 0===t||null===t)return!1;if(!1===t)return!0;if(t instanceof Date)return!isNaN(t.getTime());if("object"===typeof t){for(let e in t)return!0;return!1}return!!String(t).length},i=t=>Array.isArray(t)?t.length:"object"===typeof t?Object.keys(t).length:String(t).length,o=(t,e,r)=>"function"===typeof t?t.call(e,r):r[t],n=(t,e)=>(0,a.Z)({type:t},(t=>!s(t)||e.test(t)))},8501:function(t,e,r){var a=r(2237);const s=/^(?:[A-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[A-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9]{2,}(?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/i;e["Z"]=(0,a.Sz)("email",s)},8520:function(t,e,r){var a=r(3718),s=r(2237);e["Z"]=t=>(0,a.Z)({type:"minLength",min:t},(e=>!(0,s.Lx)(e)||(0,s.Zh)(e)>=t))},7004:function(t,e,r){var a=r(3718),s=r(2237);e["Z"]=(0,a.Z)({type:"required"},(t=>"string"===typeof t?(0,s.Lx)(t.trim()):(0,s.Lx)(t)))},3718:function(t,e,r){const a="web"==={NODE_ENV:"production",BASE_URL:"/"}.BUILD?r(6015).R:r(9343).RP;e["Z"]=a},6015:function(t,e,r){r.d(e,{R:function(){return i}});const a="undefined"!==typeof window?window:"undefined"!==typeof r.g?r.g:{},s=(t,e)=>"object"===typeof t&&void 0!==e?e:t((()=>{})),i=a.vuelidate?a.vuelidate.withParams:s},6391:function(t,e,r){t.exports=r.p+"img/default-user-pic.bc19d8f4.png"}}]);
//# sourceMappingURL=439.f883d013.js.map