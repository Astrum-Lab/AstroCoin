"use strict";(self["webpackChunkastracoin"]=self["webpackChunkastracoin"]||[]).push([[376],{47376:function(t,e,s){s.r(e),s.d(e,{default:function(){return p}});var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"user-app"}},[a("div",{staticClass:"user-page"},[a("router-link",{staticClass:"close-page",attrs:{to:"/"}},[a("i",{staticClass:"ai ai-arrow-back"}),a("div",{staticClass:"close-title"},[t._v("Back")])]),a("div",{staticClass:"user-photo"},[a("div",{staticClass:"user-pic-block"},[a("img",{ref:"image",staticClass:"user-pic",attrs:{src:t.user.photo?this.$store.state.url+t.user.photo:s(76391),alt:""}})]),a("input",{ref:"fileInput",staticStyle:{display:"none"},attrs:{type:"file",accept:".jpg, .png, .jpeg, |image/*"},on:{change:t.onFileChange}}),a("div",{staticClass:"edit-user-pic",on:{click:function(e){return t.$refs.fileInput.click()}}},[a("i",{staticClass:"ai ai-camera-outline"})])]),8===t.user.id||1===t.user.id||2===t.user.id||6===t.user.id?a("div",{staticClass:"user-fullname"},[t._v(" "+t._s(t.user.name)+". "+t._s(t.user.last_name)+" "),a("svg",{attrs:{width:"28",height:"28",fill:"none",viewBox:"0 0 28 28",xmlns:"http://www.w3.org/2000/svg"}},[a("path",{attrs:{d:"M11.517 3.389c.776-.704 1.164-1.056 1.59-1.222a2.467 2.467 0 0 1 1.786 0c.427.166.814.518 1.59 1.222.366.331.549.497.753.62.275.167.58.278.898.327.236.037.482.028.976.008 1.046-.04 1.57-.06 2.003.087a2.467 2.467 0 0 1 1.368 1.148c.22.4.291.92.433 1.958.067.489.1.733.177.96.104.304.266.585.478.827.157.18.352.33.742.633.828.642 1.242.963 1.48 1.354.319.527.43 1.154.31 1.759-.09.448-.369.892-.927 1.778-.263.417-.395.626-.481.849-.116.3-.173.62-.166.94.005.24.057.48.161.963.222 1.024.333 1.536.263 1.988a2.468 2.468 0 0 1-.893 1.547c-.356.286-.855.446-1.853.766-.47.15-.705.226-.914.341-.282.155-.53.364-.732.614-.15.186-.265.405-.495.841-.488.927-.732 1.39-1.076 1.692A2.468 2.468 0 0 1 17.31 26c-.458-.01-.942-.208-1.912-.604-.457-.187-.686-.28-.92-.326a2.47 2.47 0 0 0-.955 0c-.235.046-.463.14-.92.326-.97.396-1.455.594-1.912.604a2.468 2.468 0 0 1-1.678-.61c-.344-.302-.589-.766-1.077-1.692-.23-.437-.345-.655-.495-.841a2.468 2.468 0 0 0-.732-.615c-.209-.115-.444-.19-.914-.34-.997-.32-1.496-.48-1.853-.767a2.468 2.468 0 0 1-.893-1.547c-.07-.452.041-.964.263-1.988.105-.482.157-.723.162-.962a2.467 2.467 0 0 0-.166-.941c-.087-.223-.218-.431-.481-.85-.559-.885-.838-1.329-.927-1.777a2.468 2.468 0 0 1 .31-1.759c.237-.391.651-.712 1.48-1.354.39-.302.584-.454.741-.633.212-.242.374-.523.478-.828.077-.226.11-.47.178-.96.141-1.037.212-1.556.433-1.957.296-.54.784-.95 1.368-1.148.433-.147.956-.127 2.003-.087.493.02.74.03.976-.008.317-.049.622-.16.897-.326.205-.124.388-.29.753-.621z",fill:"#5733d1"}}),a("path",{attrs:{d:"M9.476 14.707l2.879 2.879 5.758-5.758",id:"verified_svg__verified_tick",stroke:"#fff","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}})])]):a("div",{staticClass:"user-fullname"},[t._v(t._s(t.user.name)+" "+t._s(t.user.last_name))]),a("div",{staticClass:"user-email"},[t._v(t._s(t.user.email))]),a("div",{staticClass:"user-tools"},[a("ul",{staticClass:"tools-items"},[a("router-link",{attrs:{tag:"li",to:"/ranks"}},[a("i",{staticClass:"ai ai-trending-up"}),t._v("Student Ranking")])],1),a("ul",{staticClass:"tools-items"},[a("li",[a("i",{staticClass:"ai ai-person-outline"}),t._v(t._s(t.user.qwasar))]),a("li",[a("i",{staticClass:"ai ai-school-outline"}),t._v(t._s(t.user.stack))]),a("li",[a("i",{staticClass:"ai ai-wallet-outline"}),t._v(t._s(t.user.wallet))])]),a("ul",{staticClass:"tools-items"},[a("router-link",{attrs:{tag:"li",to:"/update-password"}},[a("i",{staticClass:"ai ai-key-outline"}),t._v("Change password")])],1),a("ul",{staticClass:"tools-items"},[a("li",{staticClass:"btn-log-out",on:{click:t.logout}},[a("i",{staticClass:"ai ai-log-out-outline"}),t._v("Log Out")])])])],1),t.croppedImage?a("img",{attrs:{src:t.croppedImage,alt:""}}):t._e(),a("div",{staticClass:"modals",attrs:{id:"modals"}},[a("div",{class:{active:t.openUpload},attrs:{id:"upload-avatar"}},[a("div",{staticClass:"modal-header"},[a("div",{staticClass:"modal-title"},[t._v("Upload")]),a("div",{staticClass:"modal-tools"},[a("div",{staticClass:"modal-close",on:{click:t.closeModals}},[a("i",{staticClass:"ai ai-close"})])])]),a("div",{staticClass:"modal-body"},[a("Cropper",{ref:"cropper",attrs:{src:t.image,"stencil-component":"circle-stencil"}})],1),a("div",{staticClass:"upload-tools"},[a("button",{on:{click:t.reset}},[t._v("Reset")]),a("button",{on:{click:t.uploadImage}},[t._v("Upload")])])])])])},i=[],r=s(48534),o=(s(41539),s(78783),s(33948),s(60285),s(41637),s(36133),s(81910)),n={name:"UserPage",data:function(){return{user:{},image:null,openUpload:!1,croppedImage:null}},components:{Cropper:o.fl},mounted:function(){var t=this;return(0,r.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(document.title="Astrocoin | Profile",t.$store.state.user){e.next=4;break}return e.next=4,t.$store.dispatch("getUser");case 4:t.user=t.$store.state.user,window.addEventListener("keydown",(function(e){"Escape"==e.key&&t.$router.push("/")}));case 6:case"end":return e.stop()}}),e)})))()},methods:{closeModals:function(){this.openUpload=!1},logout:function(){var t=this;return(0,r.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("logout");case 2:t.$router.push("/login");case 3:case"end":return e.stop()}}),e)})))()},reset:function(){this.$refs.cropper.reset(),this.image=null,this.openUpload=!1},onFileChange:function(t){var e=t.target.files[0];this.image=URL.createObjectURL(e),this.openUpload=!0},uploadImage:function(){var t=this;return(0,r.Z)(regeneratorRuntime.mark((function e(){var s,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(s=t.$refs.cropper.getResult(),a=s.canvas,!a){e.next=5;break}return i=new FormData,e.next=5,a.toBlob((function(e){i.append("photo",e),t.$store.dispatch("setPhoto",i).then((function(e){t.$refs.image.src=t.$store.state.url+e.data.path}))}),"image/jpeg");case 5:t.openUpload=!1,Toast.fire("Success","Photo uploaded","success");case 7:case"end":return e.stop()}}),e)})))()}}},l=n,c=s(43736),u=(0,c.Z)(l,a,i,!1,null,"0af7a66e",null),p=u.exports}}]);
//# sourceMappingURL=376-legacy.229ba684.js.map