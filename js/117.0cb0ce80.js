"use strict";(self["webpackChunkastracoin"]=self["webpackChunkastracoin"]||[]).push([[117],{2117:function(t,e,r){r.r(e),r.d(e,{default:function(){return m}});var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"container"}},[r("div",{attrs:{id:"signup-page"}},[t._m(0),r("form",{staticClass:"form-modal",attrs:{action:"#",method:"post"},on:{submit:function(e){return e.preventDefault(),t.submit.apply(null,arguments)}}},[r("div",{staticClass:"signup-form"},[r("div",{staticClass:"signup-desc"},[t._v("Hooray "),r("span",{staticClass:"signup-user-fullname"},[t._v(t._s(t.$route.query.name)+" "+t._s(t.$route.query.last_name))]),t._v(", we're almost done. Make sure that you have entered all the data correctly")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.$route.query.name,expression:"$route.query.name"}],attrs:{type:"text",name:"",id:"first_name",hidden:"",readonly:""},domProps:{value:t.$route.query.name},on:{input:function(e){e.target.composing||t.$set(t.$route.query,"name",e.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:t.$route.query.last_name,expression:"$route.query.last_name"}],attrs:{type:"text",name:"",id:"last_name",hidden:"",readonly:""},domProps:{value:t.$route.query.last_name},on:{input:function(e){e.target.composing||t.$set(t.$route.query,"last_name",e.target.value)}}}),r("div",{staticClass:"form-control"},[r("label",{attrs:{for:"qlogin"}},[t._v("Qwasar Login:")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.$route.query.qwasar,expression:"$route.query.qwasar"}],attrs:{type:"text",name:"",id:"qlogin",readonly:""},domProps:{value:t.$route.query.qwasar},on:{input:function(e){e.target.composing||t.$set(t.$route.query,"qwasar",e.target.value)}}})]),r("div",{staticClass:"form-control"},[r("label",{attrs:{for:"qlogin"}},[t._v("Email:")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.$route.query.email,expression:"$route.query.email"}],attrs:{type:"text",name:"",id:"qlogin",readonly:""},domProps:{value:t.$route.query.email},on:{input:function(e){e.target.composing||t.$set(t.$route.query,"email",e.target.value)}}})]),r("div",{staticClass:"form-control"},[r("label",{attrs:{for:"phone"}},[t._v("Phone:")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.number,expression:"number"}],attrs:{type:"number",name:"",id:"phone"},domProps:{value:t.number},on:{input:function(e){e.target.composing||(t.number=e.target.value)}}})]),r("div",{staticClass:"form-control"},[r("label",{attrs:{for:"stack"}},[t._v("Stack:")]),r("select",{directives:[{name:"model",rawName:"v-model",value:t.stack,expression:"stack"}],attrs:{name:"",id:"stack"},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.stack=e.target.multiple?r:r[0]}}},t._l(t.stacks,(function(e){return r("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.title))])})),0)]),r("div",{staticClass:"double-input"},[r("div",{staticClass:"form-control"},[r("label",{attrs:{for:"password"}},[t._v("Password:")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",name:"",id:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),r("div",{staticClass:"form-control"},[r("label",{attrs:{for:"last_name"}},[t._v("Confirm:")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.confirm,expression:"confirm"}],attrs:{type:"password",name:"",id:"password_confirm"},domProps:{value:t.confirm},on:{input:function(e){e.target.composing||(t.confirm=e.target.value)}}})])]),t._m(1)])])])])},a=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"signup-header"},[r("div",{staticClass:"app-logo"})])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"form-control submit-btn"},[r("button",{attrs:{type:"submit"}},[t._v("Register")])])}],o=r(7004),n=r(8520),i=r(4459),u={name:"Register",data:()=>({number:"",stack:"",stacks:null,password:"",confirm:""}),async mounted(){document.title="AstroCoin | Registration",localStorage.getItem("token")&&this.$router.push("/"),await this.$store.dispatch("getStack"),this.stacks=this.$store.state.stacks,Toast.fire("Hooray you're in the last stage","","info")},validations:{number:{required:o.Z},stack:{required:o.Z},password:{required:o.Z,minLength:(0,n.Z)(8)},confirm:{required:o.Z,sameAsPassword:(0,i.Z)("password")}},methods:{async submit(){if(this.$v.$invalid)return this.$v.$touch(),void(this.$v.number.required?Toast.fire('Field "Phone" is required',"","error"):this.$v.stack.required?Toast.fire('Field "Stack" is required',"","error"):this.$v.password.required?Toast.fire('Field "Password" is required',"","error"):this.$v.confirm.required?Toast.fire('Field "Confirm" is required',"","error"):this.$v.password.minLength?Toast.fire("Password must be at least 8 characters","","error"):this.$v.confirm.sameAsPassword&&Toast.fire("Passwords do not match","","error"));try{await this.$store.dispatch("register",{token:this.$route.query.token,qwasar:this.$route.query.qwasar,number:this.number,stack:this.stack,password:this.password,password_confirmation:this.confirm}),Toast.fire("Registration successful","","success"),this.$router.push("/")}catch(t){if(this.$store.state.errors)for(const e in this.$store.state.errors)Toast.fire(this.$store.state.errors[e][0],"","error");else Toast.fire(this.$store.state.error,"","error")}}}},l=u,c=r(1001),d=(0,c.Z)(l,s,a,!1,null,"3625bde7",null),m=d.exports},9343:function(t,e,r){r.d(e,{RP:function(){return c}});r(1703);const s=[];let a=null;function o(){null!==a&&s.push(a),a={}}function n(){const t=a,e=a=s.pop()||null;return e&&(Array.isArray(e.$sub)||(e.$sub=[]),e.$sub.push(t)),t}function i(t){if("object"!==typeof t||Array.isArray(t))throw new Error("params must be an object");a={...a,...t}}function u(t,e){return l((r=>function(...s){return r(t),e.apply(this,s)}))}function l(t){const e=t(i);return function(...t){o();try{return e.apply(this,t)}finally{n()}}}function c(t,e){return"object"===typeof t&&void 0!==e?u(t,e):l(t)}},2237:function(t,e,r){r.d(e,{Lx:function(){return a},Sz:function(){return i},Zh:function(){return o},iH:function(){return n}});var s=r(3718);const a=t=>{if(Array.isArray(t))return!!t.length;if(void 0===t||null===t)return!1;if(!1===t)return!0;if(t instanceof Date)return!isNaN(t.getTime());if("object"===typeof t){for(let e in t)return!0;return!1}return!!String(t).length},o=t=>Array.isArray(t)?t.length:"object"===typeof t?Object.keys(t).length:String(t).length,n=(t,e,r)=>"function"===typeof t?t.call(e,r):r[t],i=(t,e)=>(0,s.Z)({type:t},(t=>!a(t)||e.test(t)))},8520:function(t,e,r){var s=r(3718),a=r(2237);e["Z"]=t=>(0,s.Z)({type:"minLength",min:t},(e=>!(0,a.Lx)(e)||(0,a.Zh)(e)>=t))},7004:function(t,e,r){var s=r(3718),a=r(2237);e["Z"]=(0,s.Z)({type:"required"},(t=>"string"===typeof t?(0,a.Lx)(t.trim()):(0,a.Lx)(t)))},4459:function(t,e,r){var s=r(3718),a=r(2237);e["Z"]=t=>(0,s.Z)({type:"sameAs",eq:t},(function(e,r){return e===(0,a.iH)(t,this,r)}))},3718:function(t,e,r){const s="web"==={NODE_ENV:"production",BASE_URL:"/"}.BUILD?r(6015).R:r(9343).RP;e["Z"]=s},6015:function(t,e,r){r.d(e,{R:function(){return o}});const s="undefined"!==typeof window?window:"undefined"!==typeof r.g?r.g:{},a=(t,e)=>"object"===typeof t&&void 0!==e?e:t((()=>{})),o=s.vuelidate?s.vuelidate.withParams:a}}]);
//# sourceMappingURL=117.0cb0ce80.js.map